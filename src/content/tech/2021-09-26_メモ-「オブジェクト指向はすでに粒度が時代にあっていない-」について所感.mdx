---
title: 'メモ - 「オブジェクト指向はすでに粒度が時代にあっていない 」について所感'
description: 'オブジェクト指向不要論に対する批判的検討。外部I/Fの単位と内部構造の単位は独立であり、サービス化の隆盛がオブジェクト不要を意味しない'
publishDate: 2021-09-26
category: 'tech'
tags: [オブジェクト指向']
---

元記事

[https://nowokay.hatenablog.com/entry/2021/09/25/042831](https://nowokay.hatenablog.com/entry/2021/09/25/042831)

本文について

「[オブジェクト指向](http://d.hatena.ne.jp/keyword/%A5%AA%A5%D6%A5%B8%A5%A7%A5%AF%A5%C8%BB%D8%B8%FE)」が多義的に使われているので、ここでは「オブジェクトを基本単位とするアプローチ」程度の意味で使っている模様

基本的にはOMTの「データ構造と振る舞いが一体となったオブジェクトの集まりとしてソフトウェアを組織化すること」 に従う

↑ともあるが、特段この定義を踏まえた議論はしていない

全体の論旨としては、オブジェクトという単位はもう不要(≠必須ではない)で、関数という単位さえあれば十分、という内容

その根拠として「部品の再利用が喧伝されたが、結局ごく部分的なものにとどまった」
「必須ではない」ではなく「不要である」という主張なのは、以下から明らかと言って良いと思う

冒頭で「オブジェクトdis」と宣言(定期的に書いてるというだけで、本文とは無関係とするのはムリがある)
「もうソフトウェアの記述としてはオブジェクトという単位は大きすぎて、関数という単位で管理すれば十分」

部品の再利用という面では、オブジェクトという単位ではなくWeb [API](http://d.hatena.ne.jp/keyword/API)という単位で、すなわち「サービス」という単位での再利用が主流になっている

これをさらに進めて、ラムダやファンクションといった単位での配置も使われてきている
そうするともうソフトウェアの記述としてはオブジェクトという単位は大きすぎて、関数という単位で管理すれば十分ということにもなります。 ※1

「え、いまどき[オブジェクト指向](http://d.hatena.ne.jp/keyword/%A5%AA%A5%D6%A5%B8%A5%A7%A5%AF%A5%C8%BB%D8%B8%FE)でつくらなくない？」っていつも思います。 ※2

もし「[オブジェクト指向](http://d.hatena.ne.jp/keyword/%A5%AA%A5%D6%A5%B8%A5%A7%A5%AF%A5%C8%BB%D8%B8%FE)」を勉強したいと思ったら、その知りたいことは実際には[ソフトウェア工学](http://d.hatena.ne.jp/keyword/%A5%BD%A5%D5%A5%C8%A5%A6%A5%A7%A5%A2%B9%A9%B3%D8)という分野でまとまっているので、そういったタイトルの本を読むのがいいと思います。 ※3

所感

「再利用」という観点では確かにサービス(Web [API](http://d.hatena.ne.jp/keyword/API))という単位での提供が主流だけれど、サービスの中身をどう作るかはまた別の話ではないか

なので、※1は端的に論理の飛躍。
外部I/Fの単位が「サービス」になったからといって、その内部構造も「サービス」を基本単位とする必然性も必要性も無い。
その方が都合良ければそうすれば良いけど、そこから主張できるのは精々が「オブジェクト以外を単位にすることがあっても良いよね」程度で、「オブジェクトという単位は不要だよね」は飛躍。

「オブジェクト以外を単位にすることが有っても良いよね」なら、特に異論は無い。

また、Web [API](http://d.hatena.ne.jp/keyword/API) や [SOA](http://d.hatena.ne.jp/keyword/SOA)を持ち出して語っていたのは「いかにしてソフトウェアを再利用するか」という話だったが、※1では「ソフトウェアの記述」にすり替わっている、あるいは飛躍している。

Web [API](http://d.hatena.ne.jp/keyword/API)や[SOA](http://d.hatena.ne.jp/keyword/SOA)の隆盛がただちにその内部記述方法を規定するわけではないのは、↑のI/Fと内部構造の話と同じ。
後述するが、 自身はソフトウェア記述において[オブジェクト指向](http://d.hatena.ne.jp/keyword/%A5%AA%A5%D6%A5%B8%A5%A7%A5%AF%A5%C8%BB%D8%B8%FE)のアプローチもオブジェクト単位の表現・記述も使っているし、そしてその恩恵も感じている
大きすぎるオブジェクトや小さすぎるオブジェクトを作ってしまうことはあるが、それは単純に自分のしくじり。

関数だったら大きすぎる関数や小さすぎる関数を作ることがありえなくなるわけでもなし。

※2は個人の感想としか言いようがない

自分も[Webサービス](http://d.hatena.ne.jp/keyword/Web%A5%B5%A1%BC%A5%D3%A5%B9)開発していて、そのI/Fは確かに[API](http://d.hatena.ne.jp/keyword/API)単位で提供してる。
しかしその内部ではオブジェクトを頻繁に使っているので、「そうなんですか、私はしょっちゅう使います」としか。

※3は検討の余地がありそうで、鵜呑みにするのは危険と思われる

書いている通り、これまで語られていた「[オブジェクト指向](http://d.hatena.ne.jp/keyword/%A5%AA%A5%D6%A5%B8%A5%A7%A5%AF%A5%C8%BB%D8%B8%FE)」のアプローチは、全て[ソフトウェア工学](http://d.hatena.ne.jp/keyword/%A5%BD%A5%D5%A5%C8%A5%A6%A5%A7%A5%A2%B9%A9%B3%D8)でカバーされているケース

この場合、[ソフトウェア工学](http://d.hatena.ne.jp/keyword/%A5%BD%A5%D5%A5%C8%A5%A6%A5%A7%A5%A2%B9%A9%B3%D8)を学びさえすれば「[オブジェクト指向](http://d.hatena.ne.jp/keyword/%A5%AA%A5%D6%A5%B8%A5%A7%A5%AF%A5%C8%BB%D8%B8%FE)」の概念はもはや不要、という主張はある程度妥当性を持つかもしれない

順番が逆で、「[オブジェクト指向](http://d.hatena.ne.jp/keyword/%A5%AA%A5%D6%A5%B8%A5%A7%A5%AF%A5%C8%BB%D8%B8%FE)」のアプローチが[コモディティ化](http://d.hatena.ne.jp/keyword/%A5%B3%A5%E2%A5%C7%A5%A3%A5%C6%A5%A3%B2%BD)した結果、[ソフトウェア工学](http://d.hatena.ne.jp/keyword/%A5%BD%A5%D5%A5%C8%A5%A6%A5%A7%A5%A2%B9%A9%B3%D8)が「[オブジェクト指向](http://d.hatena.ne.jp/keyword/%A5%AA%A5%D6%A5%B8%A5%A7%A5%AF%A5%C8%BB%D8%B8%FE)」のアプローチをカバーするようになったケース

この場合、[ソフトウェア工学](http://d.hatena.ne.jp/keyword/%A5%BD%A5%D5%A5%C8%A5%A6%A5%A7%A5%A2%B9%A9%B3%D8)を学べば「[オブジェクト指向](http://d.hatena.ne.jp/keyword/%A5%AA%A5%D6%A5%B8%A5%A7%A5%AF%A5%C8%BB%D8%B8%FE)」のアプローチも一緒に取り込まれているというだけで、「[オブジェクト指向](http://d.hatena.ne.jp/keyword/%A5%AA%A5%D6%A5%B8%A5%A7%A5%AF%A5%C8%BB%D8%B8%FE)」が不要になったわけではない

もともと[ソフトウェア工学](http://d.hatena.ne.jp/keyword/%A5%BD%A5%D5%A5%C8%A5%A6%A5%A7%A5%A2%B9%A9%B3%D8)出身ではないのと、[ソフトウェア工学](http://d.hatena.ne.jp/keyword/%A5%BD%A5%D5%A5%C8%A5%A6%A5%A7%A5%A2%B9%A9%B3%D8)が現状どういう状態になっているか[watch](http://d.hatena.ne.jp/keyword/watch)できていないこともあって、現時点では留保せざるを得ない
とりあえず [https://www.amazon.co.jp/exec/obidos/ASIN/B01JFGM9LC/kishidassite-22/](https://www.amazon.co.jp/exec/obidos/ASIN/B01JFGM9LC/kishidassite-22/) は買った

比較的あたらしく、かつ阪大・[立命館大](http://d.hatena.ne.jp/keyword/%CE%A9%CC%BF%B4%DB%C2%E7)・南山大の[ソフトウェア工学](http://d.hatena.ne.jp/keyword/%A5%BD%A5%D5%A5%C8%A5%A6%A5%A7%A5%A2%B9%A9%B3%D8)[シラバス](http://d.hatena.ne.jp/keyword/%A5%B7%A5%E9%A5%D0%A5%B9)で、教科書 or 参考書として挙げられていたので

「[オブジェクト指向](http://d.hatena.ne.jp/keyword/%A5%AA%A5%D6%A5%B8%A5%A7%A5%AF%A5%C8%BB%D8%B8%FE)が流行ったときは、分析設計で出てきた要素をコーディングでもそのまま使えるというのが大きな宣伝文句でした」

この話について、挙げるだけ挙げてその後特に言及してない(次の段落で、すぐに部品再利用の話へ移ってしまっている)が、この点についてはどういう評価なのだろう
これは現代でも重要な要素だと思うし、オブジェクトという単位を用いるからこそ発揮できる優位性だと思っている
「分析設計ででてきた要素をコーディングでも使う」という話と、「作った部品を他の場所でも再利用する」という話が、同種同列だと捉えられているのだろうか。

だとしたら、前者は意味的・概念的な再利用であるのに対して、後者は実装的・機能的な再利用であるにも関わらず、その差異を無視している。
[Knuth](http://d.hatena.ne.jp/keyword/Knuth)が言うところの「アート」と「サイエンス」の内、「サイエンス」にしか目を向けずに語っているような雰囲気を感じる(感想)
